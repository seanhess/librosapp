<div class="book_edit">

<!--<pre>{{files}}</pre>-->

<div>
  <!--<label>bookId</label>-->
  <!--<div><input disabled ng-model="book.bookId"></div>-->

  <div><a href="/books/{{book.bookId}}" target="_blank">Data</a></div>
  <br/>

  <label>title</label>
  <div><input ng-model="book.title" placeholder="A Tale of Two Cities"/></div>


  <label>price (cents)</label>
  <div><input ng-model="book.price" placeholder="199"/></div>

  <label>author</label>
  <div><input ng-model="book.author" placeholder="Charles Dickens"/></div>

  <label>genre</label>
  <div><input ng-model="book.genre" placeholder="Comedy"></div>

  <label>description</label>
  <div><textarea ng-model="book.description" placeholder="This book is awesome"></textarea></div>

  <label class="type">type</label>
  <div><input type="checkbox" ng-model="book.hasText"/> Has Text?</div>
  <div><input type="checkbox" ng-model="book.hasAudio"/> Has Audio?</div>


  <label>files</label>
  <div class="files" dragupload="onDrop">
    <div class="instructions">Drop files here (.mp3 or .txt)</div>

    <div class="file" ng-class="{loading: isLoading(file)}" ng-repeat="file in files | orderBy:'name'">
      <div ng-hide="isEditing(file)">
        <small><button class="remove" ng-click="removeFile(file)">x</button> </small>
        <small><button class="rename" ng-click="editFile(file)">rename</button></small>
        <a href="{{file.url}}" target="_blank">{{file.name}}.{{file.ext}}</a>
        <!--<a class="external_link" href="{{file.url}}"></a>-->
      </div>
      <form ng-show="isEditing(file)">
        <input ng-model="editing.name">
        <button ng-click="updateFile(file)">Save</button>
        <a ng-click="cancelEdit()">Cancel</a>
      </form>
    </div>
  </div>

  <p>
    <input type="submit" ng-disabled="!book" ng-click="save()" value="Save"></input>
    <button ng-disabled="!book" ng-click="remove()">Remove</button>
  </p>

</div>

</div>
